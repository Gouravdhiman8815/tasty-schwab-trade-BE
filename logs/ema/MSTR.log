2025-08-11 14:46:35,734 - INFO - Running strategy for MSTR at 2025-08-11 07:46:35.734747-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 14:46:35,735 - INFO - Attempting to connect to Redis at localhost:6379 db=0
2025-08-11 14:46:35,736 - ERROR - Error in strategy for MSTR: configure_logger() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 385, in get_historical_and_live_data
    df = get_historical_data(ticker, timeframe, logger, strategy)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 92, in get_historical_data
    return get_tick_based_historical_data(ticker, timeframe, logger, redis_client, db_api_key, dataset, strategy)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 108, in get_tick_based_historical_data
    tick_buffer = TickDataBufferWithRedis(
        ticker=ticker_for_data,
    ...<4 lines>...
        strategy=strategy
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 18, in __init__
    super().__init__(ticker, tick_size, db_api_key)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\tick_buffer.py", line 19, in __init__
    self.logger = configure_logger(ticker)
                  ~~~~~~~~~~~~~~~~^^^^^^^^
TypeError: configure_logger() missing 1 required positional argument: 'strategy'
2025-08-11 15:10:27,774 - INFO - Running strategy for MSTR at 2025-08-11 08:10:27.774230-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 15:10:27,774 - INFO - Attempting to connect to Redis at localhost:6379 db=0
2025-08-11 15:10:29,265 - ERROR - Error in strategy for MSTR: name 'tick_buffer' is not defined
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 228, in get_historical_and_live_data
    df = get_historical_data(ticker, timeframe, logger, strategy)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 48, in get_historical_data
    return get_tick_based_historical_data(ticker, timeframe, logger, redis_client, db_api_key, dataset, strategy)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 84, in get_tick_based_historical_data
    tick_buffer.warmup_with_historical_ticks(
    ^^^^^^^^^^^
NameError: name 'tick_buffer' is not defined
2025-08-11 15:14:52,541 - INFO - Running strategy for MSTR at 2025-08-11 08:14:52.541499-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 15:14:52,542 - INFO - Attempting to connect to Redis at localhost:6379 db=0
2025-08-11 15:14:54,118 - ERROR - Error in strategy for MSTR: name 'tick_buffer' is not defined
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 228, in get_historical_and_live_data
    df = get_historical_data(ticker, timeframe, logger, strategy)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 48, in get_historical_data
    return get_tick_based_historical_data(ticker, timeframe, logger, redis_client, db_api_key, dataset, strategy)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 84, in get_tick_based_historical_data
    tick_buffer.warmup_with_historical_ticks(
    ^^^^^^^^^^^
NameError: name 'tick_buffer' is not defined
2025-08-11 18:16:59,431 - INFO - Running strategy for MSTR at 2025-08-11 11:16:59.430836-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 18:16:59,639 - INFO - Attempting to connect to Redis at localhost:6379 db=0
2025-08-11 18:17:02,545 - ERROR - Error in strategy for MSTR: warmup_with_historical_ticks() missing 6 required positional arguments: 'dataset', 'start', 'end', 'logger', 'tick_size', and 'create_bar_from_ticks_fn'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 287, in get_historical_and_live_data
    warmup_with_historical_ticks(ticker_for_data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
TypeError: warmup_with_historical_ticks() missing 6 required positional arguments: 'dataset', 'start', 'end', 'logger', 'tick_size', and 'create_bar_from_ticks_fn'
2025-08-11 18:17:03,005 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 20:02:11,843 - INFO - Running strategy for MSTR at 2025-08-11 13:02:11.843722-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 20:02:11,844 - INFO - Attempting to connect to Redis at localhost:6379 db=0
2025-08-11 20:02:13,348 - ERROR - Error in strategy for MSTR: module 'threading' has no attribute 'lock'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 124, in get_historical_and_live_data
    lock = threading.lock()
           ^^^^^^^^^^^^^^
AttributeError: module 'threading' has no attribute 'lock'. Did you mean: 'Lock'?
2025-08-11 20:02:13,761 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 20:05:48,087 - INFO - Running strategy for MSTR at 2025-08-11 13:05:48.087044-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 20:05:48,088 - INFO - Attempting to connect to Redis at localhost:6379 db=0
2025-08-11 20:05:49,640 - ERROR - Error in strategy for MSTR: module 'threading' has no attribute 'lock'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 124, in get_historical_and_live_data
    lock = threading.lock()
           ^^^^^^^^^^^^^^
AttributeError: module 'threading' has no attribute 'lock'. Did you mean: 'Lock'?
2025-08-11 20:05:49,979 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 20:06:11,277 - INFO - Running strategy for MSTR at 2025-08-11 13:06:11.277054-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 20:06:11,277 - INFO - Attempting to connect to Redis at localhost:6379 db=0
2025-08-11 20:06:12,603 - ERROR - Error in strategy for MSTR: module 'threading' has no attribute 'lock'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 123, in get_historical_and_live_data
    lock = threading.lock()
           ^^^^^^^^^^^^^^
AttributeError: module 'threading' has no attribute 'lock'. Did you mean: 'Lock'?
2025-08-11 20:06:12,951 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:18:22,164 - INFO - Running strategy for MSTR at 2025-08-11 14:18:22.164826-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:18:25,745 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:20:17,916 - INFO - Running strategy for MSTR at 2025-08-11 14:20:17.916956-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:20:20,711 - ERROR - Error in strategy for MSTR: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 82, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 74, in get_historical_data
    start_time = get_historical_start_time(timeframe, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 65, in get_historical_start_time
    start_time = (end_time - timedelta(days=1)).isoformat()
                  ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-08-11 21:20:21,099 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:20:34,650 - INFO - Running strategy for MSTR at 2025-08-11 14:20:34.650780-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:20:34,650 - INFO - Running strategy for MSTR at 2025-08-11 14:20:34.650780-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:20:36,379 - ERROR - Error in strategy for MSTR: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 82, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 74, in get_historical_data
    start_time = get_historical_start_time(timeframe, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 65, in get_historical_start_time
    start_time = (end_time - timedelta(days=1)).isoformat()
                  ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-08-11 21:20:36,379 - ERROR - Error in strategy for MSTR: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 82, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 74, in get_historical_data
    start_time = get_historical_start_time(timeframe, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 65, in get_historical_start_time
    start_time = (end_time - timedelta(days=1)).isoformat()
                  ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-08-11 21:20:36,790 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:20:36,790 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:21:03,340 - INFO - Running strategy for MSTR at 2025-08-11 14:21:03.340052-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:21:05,777 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:21:30,710 - INFO - Running strategy for MSTR at 2025-08-11 14:21:30.710128-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:21:33,604 - ERROR - Error in strategy for MSTR: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 82, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 74, in get_historical_data
    start_time = get_historical_start_time(timeframe, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 65, in get_historical_start_time
    start_time = (end_time - timedelta(days=1)).isoformat()
                  ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-08-11 21:21:33,926 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:33:00,583 - INFO - Running strategy for MSTR at 2025-08-11 14:33:00.583775-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:33:02,332 - ERROR - Error in strategy for MSTR: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 98, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 87, in get_historical_data
    start_time = get_historical_start_time(timeframe, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 66, in get_historical_start_time
    start_time = (end_time - timedelta(days=1)).isoformat()
                  ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-08-11 21:33:03,020 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:33:33,420 - INFO - Running strategy for MSTR at 2025-08-11 14:33:33.420378-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:33:35,424 - ERROR - Error in strategy for MSTR: extract_tick_count() takes 1 positional argument but 2 were given
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 98, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 90, in get_historical_data
    tick_size = extract_tick_count(timeframe, dataset)
TypeError: extract_tick_count() takes 1 positional argument but 2 were given
2025-08-11 21:33:36,051 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:34:25,084 - INFO - Running strategy for MSTR at 2025-08-11 14:34:25.084002-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:34:27,691 - ERROR - Error in strategy for MSTR: extract_tick_count() takes 1 positional argument but 2 were given
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 99, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 91, in get_historical_data
    tick_size = extract_tick_count(timeframe, dataset)
TypeError: extract_tick_count() takes 1 positional argument but 2 were given
2025-08-11 21:34:28,648 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:34:58,451 - INFO - Running strategy for MSTR at 2025-08-11 14:34:58.451009-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:35:01,138 - ERROR - Error in strategy for MSTR: extract_tick_count() takes 1 positional argument but 2 were given
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 100, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 92, in get_historical_data
    tick_size = extract_tick_count(timeframe, dataset)
TypeError: extract_tick_count() takes 1 positional argument but 2 were given
2025-08-11 21:35:01,775 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:35:38,190 - INFO - Running strategy for MSTR at 2025-08-11 14:35:38.190620-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:35:41,536 - ERROR - Error in strategy for MSTR: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 98, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 91, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 71, in get_tick_based_data
    data = DATABENTO_CLIENT.timeseries.get_range(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset=dataset,
        ^^^^^^^^^^^^^^^^
    ...<5 lines>...
        limit=tick_size
        ^^^^^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-11 21:35:42,048 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:36:04,938 - INFO - Running strategy for MSTR at 2025-08-11 14:36:04.938665-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:36:08,824 - ERROR - Error in strategy for MSTR: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 99, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 92, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 71, in get_tick_based_data
    data = DATABENTO_CLIENT.timeseries.get_range(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset=dataset,
        ^^^^^^^^^^^^^^^^
    ...<5 lines>...
        limit=tick_size
        ^^^^^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-11 21:36:09,210 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:37:18,280 - INFO - Running strategy for MSTR at 2025-08-11 14:37:18.280205-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:37:21,657 - ERROR - Error in strategy for MSTR: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 99, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 92, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 71, in get_tick_based_data
    data = DATABENTO_CLIENT.timeseries.get_range(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset=dataset,
        ^^^^^^^^^^^^^^^^
    ...<5 lines>...
        limit=tick_size
        ^^^^^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-11 21:37:21,997 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:38:23,655 - INFO - Running strategy for MSTR at 2025-08-11 14:38:23.655577-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:38:27,273 - ERROR - Error in strategy for MSTR: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 99, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 92, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 72, in get_tick_based_data
    data = DATABENTO_CLIENT.timeseries.get_range(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset=dataset,
        ^^^^^^^^^^^^^^^^
    ...<5 lines>...
        limit=tick_size
        ^^^^^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-11 21:38:27,800 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:38:44,310 - INFO - Running strategy for MSTR at 2025-08-11 14:38:44.310193-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:38:48,749 - ERROR - Error in strategy for MSTR: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 99, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 92, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 71, in get_tick_based_data
    data = DATABENTO_CLIENT.timeseries.get_range(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset=dataset,
        ^^^^^^^^^^^^^^^^
    ...<5 lines>...
        limit=tick_size
        ^^^^^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-11 21:38:49,088 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:39:11,026 - INFO - Running strategy for MSTR at 2025-08-11 14:39:11.026690-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:39:14,634 - ERROR - Error in strategy for MSTR: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 107, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 100, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 71, in get_tick_based_data
    data = DATABENTO_CLIENT.timeseries.get_range(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset=dataset,
        ^^^^^^^^^^^^^^^^
    ...<5 lines>...
        limit=tick_size
        ^^^^^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-11 21:39:15,032 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:41:42,567 - INFO - Running strategy for MSTR at 2025-08-11 14:41:42.566954-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:41:45,931 - ERROR - Error in strategy for MSTR: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 99, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 88, in get_historical_data
    start_time = get_historical_start_time(timeframe, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 66, in get_historical_start_time
    start_time = (end_time - timedelta(days=1)).isoformat()
                  ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-08-11 21:41:46,262 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:43:31,653 - INFO - Running strategy for MSTR at 2025-08-11 14:43:31.653076-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:43:34,560 - ERROR - Error in strategy for MSTR: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 100, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 89, in get_historical_data
    start_time = get_historical_start_time(timeframe, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 66, in get_historical_start_time
    start_time = (end_time - timedelta(days=1)).isoformat()
                  ~~~~~~~~~^~~~~~~~~~~~~~~~~~~
TypeError: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-08-11 21:43:34,916 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:45:49,967 - INFO - Running strategy for MSTR at 2025-08-11 14:45:49.967224-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:45:52,945 - ERROR - Error in strategy for MSTR: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 101, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 94, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 71, in get_tick_based_data
    data = DATABENTO_CLIENT.timeseries.get_range(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset=dataset,
        ^^^^^^^^^^^^^^^^
    ...<5 lines>...
        limit=tick_size
        ^^^^^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-11 21:45:53,308 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:48:07,775 - INFO - Running strategy for MSTR at 2025-08-11 14:48:07.775628-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:48:13,652 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:51:24,928 - INFO - Running strategy for MSTR at 2025-08-11 14:51:24.928098-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:51:29,779 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:53:18,404 - INFO - Running strategy for MSTR at 2025-08-11 14:53:18.404810-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:53:22,593 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:55:16,793 - INFO - Running strategy for MSTR at 2025-08-11 14:55:16.793764-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:55:23,857 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 21:56:30,185 - INFO - Running strategy for MSTR at 2025-08-11 14:56:30.185045-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 21:56:32,724 - ERROR - Error in strategy for MSTR: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 99, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 94, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 72, in get_tick_based_data
    data = DATABENTO_CLIENT.timeseries.get_range(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset=dataset,
        ^^^^^^^^^^^^^^^^
    ...<5 lines>...
        limit=tick_size
        ^^^^^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'MSTR', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-11 21:56:33,120 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 22:01:22,033 - INFO - Running strategy for MSTR at 2025-08-11 15:01:22.033262-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 22:01:26,047 - ERROR - Error in strategy for MSTR: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'ESH5', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 99, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 94, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 72, in get_tick_based_data
    data = DATABENTO_CLIENT.timeseries.get_range(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset=dataset,
        ^^^^^^^^^^^^^^^^
    ...<5 lines>...
        limit=100
        ^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'ESH5', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-11 22:01:26,546 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 22:01:44,193 - INFO - Running strategy for MSTR at 2025-08-11 15:01:44.193912-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 22:01:48,165 - ERROR - Error in strategy for MSTR: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'ESH5', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 99, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 94, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 72, in get_tick_based_data
    data = DATABENTO_CLIENT.timeseries.get_range(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset=dataset,
        ^^^^^^^^^^^^^^^^
    ...<5 lines>...
        # limit=100
        ^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 400 symbology_invalid_symbol
Invalid format for `continuous` symbol 'ESH5', expected format: '[ROOT].[ROLL_RULE].[RANK]'.
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-11 22:01:48,686 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 22:02:01,837 - INFO - Running strategy for MSTR at 2025-08-11 15:02:01.837417-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 22:02:10,661 - ERROR - Error in strategy for MSTR: 422 symbology_invalid_request
None of the symbols could be resolved
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 99, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 94, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 72, in get_tick_based_data
    data = DATABENTO_CLIENT.timeseries.get_range(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset=dataset,
        ^^^^^^^^^^^^^^^^
    ...<5 lines>...
        # limit=100
        ^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 422 symbology_invalid_request
None of the symbols could be resolved
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-11 22:02:11,000 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 22:04:14,458 - INFO - Running strategy for MSTR at 2025-08-11 15:04:14.458645-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 22:04:15,946 - ERROR - Error in strategy for MSTR: 'MetadataHttpAPI' object has no attribute 'list_symbols'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 100, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 95, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 72, in get_tick_based_data
    print(DATABENTO_CLIENT.metadata.list_symbols(dataset=dataset).head())
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MetadataHttpAPI' object has no attribute 'list_symbols'
2025-08-11 22:04:16,309 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 22:04:48,920 - INFO - Running strategy for MSTR at 2025-08-11 15:04:48.920725-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 22:04:50,511 - ERROR - Error in strategy for MSTR: 'MetadataHttpAPI' object has no attribute 'list_symbols'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 100, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 95, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, symbol)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 72, in get_tick_based_data
    print(DATABENTO_CLIENT.metadata.list_symbols(dataset=dataset).head())
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MetadataHttpAPI' object has no attribute 'list_symbols'
2025-08-11 22:04:50,842 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 22:27:17,854 - INFO - Running strategy for MSTR at 2025-08-11 15:27:17.854221-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 22:27:23,504 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 22:32:20,876 - INFO - Running strategy for MSTR at 2025-08-11 15:32:20.876487-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 22:32:24,665 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 22:36:15,078 - INFO - Running strategy for MSTR at 2025-08-11 15:36:15.078110-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 22:36:19,232 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 22:37:53,928 - INFO - Running strategy for MSTR at 2025-08-11 15:37:53.928453-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 22:37:57,895 - ERROR - Error in main loop for MSTR: get_strategy_prarams() missing 1 required positional argument: 'logger'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 60, in main_strategy_loop
    [timeframe, *_] = get_strategy_prarams(ticker, logger)
                      ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
TypeError: get_strategy_prarams() missing 1 required positional argument: 'logger'
2025-08-11 23:04:07,305 - INFO - Running strategy for MSTR at 2025-08-11 16:04:07.305180-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 23:04:09,926 - ERROR - Error in strategy for MSTR: name 'start' is not defined
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 119, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 113, in get_historical_data
    instrument_id = symbology_resolve(dataset, symbol, start, end)
                                                       ^^^^^
NameError: name 'start' is not defined
2025-08-11 23:04:10,278 - INFO - Market closed
2025-08-11 23:04:10,278 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-11 23:04:42,587 - INFO - Running strategy for MSTR at 2025-08-11 16:04:42.587327-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 23:04:53,471 - ERROR - Error in strategy for MSTR: unhashable type: 'dict'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 119, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 113, in get_historical_data
    instrument_id = symbology_resolve(dataset, symbol, start_time, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 80, in symbology_resolve
    print("Resolved symbol: ", {result})
                               ^^^^^^^^
TypeError: unhashable type: 'dict'
2025-08-11 23:04:53,830 - INFO - Market closed
2025-08-11 23:04:53,830 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-11 23:05:09,562 - INFO - Running strategy for MSTR at 2025-08-11 16:05:09.562393-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 23:05:56,497 - INFO - Running strategy for MSTR at 2025-08-11 16:05:56.497768-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 23:06:17,520 - ERROR - Error in strategy for MSTR: unhashable type: 'dict'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 120, in get_historical_and_live_data
    def get_historical_and_live_data(ticker, timeframe, logger, strategy):
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 114, in get_historical_data
    print("fifi")
    
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 81, in symbology_resolve
    print("Resolved symbol: ", {result})
                               ^^^^^^^^
TypeError: unhashable type: 'dict'
2025-08-11 23:06:17,869 - INFO - Market closed
2025-08-11 23:06:17,869 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-11 23:09:55,901 - INFO - Running strategy for MSTR at 2025-08-11 16:09:55.901422-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 23:09:59,474 - ERROR - Error in strategy for MSTR: unhashable type: 'dict'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 121, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 115, in get_historical_data
    instrument_id = symbology_resolve(dataset, symbol, start_time, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 81, in symbology_resolve
    print("Resolved symbol: ", {result})
                               ^^^^^^^^
TypeError: unhashable type: 'dict'
2025-08-11 23:09:59,806 - INFO - Market closed
2025-08-11 23:09:59,806 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-11 23:11:14,073 - INFO - Running strategy for MSTR at 2025-08-11 16:11:14.073689-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 23:11:17,313 - ERROR - Error in strategy for MSTR: unhashable type: 'dict'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 120, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 114, in get_historical_data
    instrument_id = symbology_resolve(dataset, symbol, start_time, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 81, in symbology_resolve
    print("Resolved symbol: ", {result})
                               ^^^^^^^^
TypeError: unhashable type: 'dict'
2025-08-11 23:11:17,880 - INFO - Market closed
2025-08-11 23:11:17,880 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-11 23:14:12,008 - INFO - Running strategy for MSTR at 2025-08-11 16:14:12.008902-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 23:14:25,101 - INFO - Market closed
2025-08-11 23:14:25,101 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-11 23:20:26,404 - INFO - Running strategy for MSTR at 2025-08-11 16:20:26.404080-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 23:20:29,399 - ERROR - Error in strategy for MSTR: 'dict' object has no attribute 'to_df'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 122, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 116, in get_historical_data
    instrument_id = symbology_resolve(dataset, symbol, start_time, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 81, in symbology_resolve
    df = result.to_df()
         ^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'to_df'
2025-08-11 23:20:29,722 - INFO - Market closed
2025-08-11 23:20:29,722 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-11 23:30:48,438 - INFO - Running strategy for MSTR at 2025-08-11 16:30:48.438320-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 23:30:52,534 - ERROR - Error in strategy for MSTR: 'dict' object has no attribute 'to_df'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 121, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 115, in get_historical_data
    instrument_id = symbology_resolve(dataset, symbol, start_time, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 80, in symbology_resolve
    df = result.to_df()
         ^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'to_df'
2025-08-11 23:30:53,056 - INFO - Market closed
2025-08-11 23:30:53,056 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-11 23:58:03,393 - INFO - Running strategy for MSTR at 2025-08-11 16:58:03.393313-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 23:58:07,106 - ERROR - Error in strategy for MSTR: 'dict' object has no attribute 'to_df'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 121, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 115, in get_historical_data
    instrument_id = symbology_resolve(dataset, symbol, start_time, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 80, in symbology_resolve
    df = result.to_df()
         ^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'to_df'
2025-08-11 23:58:07,429 - INFO - Market closed
2025-08-11 23:58:07,429 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-11 23:58:45,994 - INFO - Running strategy for MSTR at 2025-08-11 16:58:45.994946-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-11 23:58:49,119 - ERROR - Error in strategy for MSTR: 'dict' object has no attribute 'to_df'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 121, in get_historical_and_live_data
    get_historical_data(ticker, timeframe, logger)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 115, in get_historical_data
    instrument_id = symbology_resolve(dataset, symbol, start_time, end_time)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 80, in symbology_resolve
    df = result.to_df()
         ^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'to_df'
2025-08-11 23:58:49,480 - INFO - Market closed
2025-08-11 23:58:49,480 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 01:26:03,793 - INFO - Running strategy for MSTR at 2025-08-11 18:26:03.793423-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 01:26:06,447 - ERROR - Error in strategy for MSTR: get_tick_based_data() takes 5 positional arguments but 6 were given
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 134, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 128, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, instrument_id, symbol)
TypeError: get_tick_based_data() takes 5 positional arguments but 6 were given
2025-08-12 01:26:06,780 - INFO - Market closed
2025-08-12 01:26:06,780 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 01:27:57,343 - INFO - Running strategy for MSTR at 2025-08-11 18:27:57.343640-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 01:28:01,035 - ERROR - Error in strategy for MSTR: get_tick_based_data() takes 5 positional arguments but 6 were given
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 134, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 128, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, instrument_id, symbol)
TypeError: get_tick_based_data() takes 5 positional arguments but 6 were given
2025-08-12 01:28:02,177 - INFO - Market closed
2025-08-12 01:28:02,177 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 01:28:44,490 - INFO - Running strategy for MSTR at 2025-08-11 18:28:44.490066-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 01:28:47,791 - ERROR - Error in strategy for MSTR: get_tick_based_data() takes 5 positional arguments but 6 were given
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 134, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 128, in get_historical_data
    df = get_tick_based_data(tick_size, dataset, start_time, end_time, instrument_id, symbol)
TypeError: get_tick_based_data() takes 5 positional arguments but 6 were given
2025-08-12 01:28:48,138 - INFO - Market closed
2025-08-12 01:28:48,138 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 01:29:46,956 - INFO - Running strategy for MSTR at 2025-08-11 18:29:46.956930-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 01:29:52,531 - INFO - Market closed
2025-08-12 01:29:52,531 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 01:35:31,716 - INFO - Running strategy for MSTR at 2025-08-11 18:35:31.716489-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 01:35:33,636 - ERROR - Error in strategy for MSTR: cannot access local variable 'df' where it is not associated with a value
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 106, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 101, in get_historical_data
    return df
           ^^
UnboundLocalError: cannot access local variable 'df' where it is not associated with a value
2025-08-12 01:35:35,347 - INFO - Market closed
2025-08-12 01:35:35,347 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 01:36:10,161 - INFO - Running strategy for MSTR at 2025-08-11 18:36:10.161340-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 01:36:12,084 - ERROR - Error in strategy for MSTR: cannot access local variable 'df' where it is not associated with a value
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 106, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 101, in get_historical_data
    return df
           ^^
UnboundLocalError: cannot access local variable 'df' where it is not associated with a value
2025-08-12 01:36:13,193 - INFO - Market closed
2025-08-12 01:36:13,193 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 01:44:47,574 - INFO - Running strategy for MSTR at 2025-08-11 18:44:47.574618-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 01:44:48,985 - ERROR - Error in strategy for MSTR: name 'start_date' is not defined
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 116, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 108, in get_historical_data
    start=start_date,
          ^^^^^^^^^^
NameError: name 'start_date' is not defined. Did you mean: 'start_time'?
2025-08-12 01:44:49,702 - INFO - Market closed
2025-08-12 01:44:49,702 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 01:46:57,756 - INFO - Running strategy for MSTR at 2025-08-11 18:46:57.756951-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 01:46:59,123 - ERROR - Error in strategy for MSTR: name 'start_date' is not defined
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 115, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 107, in get_historical_data
    start=start_date,
          ^^^^^^^^^^
NameError: name 'start_date' is not defined. Did you mean: 'start_time'?
2025-08-12 01:47:00,237 - INFO - Market closed
2025-08-12 01:47:00,237 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:28:56,936 - INFO - Running strategy for MSTR at 2025-08-11 19:28:56.936027-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:29:01,744 - INFO - Market closed
2025-08-12 02:29:01,744 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:29:35,837 - INFO - Running strategy for MSTR at 2025-08-11 19:29:35.837643-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:29:40,503 - INFO - Market closed
2025-08-12 02:29:40,503 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:34:55,063 - INFO - Running strategy for MSTR at 2025-08-11 19:34:55.063070-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:34:59,131 - INFO - Market closed
2025-08-12 02:34:59,132 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:35:30,470 - INFO - Running strategy for MSTR at 2025-08-11 19:35:30.470812-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:35:32,153 - ERROR - Error in strategy for MSTR: SymbologyHttpAPI.resolve() missing 1 required positional argument: 'start_date'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 123, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 102, in get_historical_data
    res = DATABENTO_CLIENT.symbology.resolve(
        dataset="XNAS.ITCH",
    ...<2 lines>...
        stype_out="instrument_id"
    )
TypeError: SymbologyHttpAPI.resolve() missing 1 required positional argument: 'start_date'
2025-08-12 02:35:32,858 - INFO - Market closed
2025-08-12 02:35:32,858 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:35:50,513 - INFO - Running strategy for MSTR at 2025-08-11 19:35:50.513074-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:35:52,391 - ERROR - Error in strategy for MSTR: SymbologyHttpAPI.resolve() missing 1 required positional argument: 'start_date'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 123, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 102, in get_historical_data
    res = DATABENTO_CLIENT.symbology.resolve(
        dataset="XNAS.ITCH",
    ...<2 lines>...
        stype_out="instrument_id"
    )
TypeError: SymbologyHttpAPI.resolve() missing 1 required positional argument: 'start_date'
2025-08-12 02:35:52,852 - INFO - Market closed
2025-08-12 02:35:52,852 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:37:29,710 - INFO - Running strategy for MSTR at 2025-08-11 19:37:29.710313-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:37:31,183 - ERROR - Error in strategy for MSTR: SymbologyHttpAPI.resolve() missing 1 required positional argument: 'start_date'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 128, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 102, in get_historical_data
    res = DATABENTO_CLIENT.symbology.resolve(
        dataset="XNAS.ITCH",
    ...<2 lines>...
        stype_out="instrument_id"
    )
TypeError: SymbologyHttpAPI.resolve() missing 1 required positional argument: 'start_date'
2025-08-12 02:37:32,181 - INFO - Market closed
2025-08-12 02:37:32,181 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:38:13,858 - INFO - Running strategy for MSTR at 2025-08-11 19:38:13.858171-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:38:15,269 - ERROR - Error in strategy for MSTR: 'MetadataHttpAPI' object has no attribute 'get_dataset'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 130, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 102, in get_historical_data
    meta = DATABENTO_CLIENT.metadata.get_dataset("XNAS.ITCH")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MetadataHttpAPI' object has no attribute 'get_dataset'. Did you mean: 'list_datasets'?
2025-08-12 02:38:15,902 - INFO - Market closed
2025-08-12 02:38:15,902 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:39:14,295 - INFO - Running strategy for MSTR at 2025-08-11 19:39:14.295801-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:39:16,328 - ERROR - Error in strategy for MSTR: 'MetadataHttpAPI' object has no attribute 'get_dataset'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 131, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 103, in get_historical_data
    meta = DATABENTO_CLIENT.metadata.get_dataset("XNAS.ITCH")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MetadataHttpAPI' object has no attribute 'get_dataset'. Did you mean: 'list_datasets'?
2025-08-12 02:39:16,773 - INFO - Market closed
2025-08-12 02:39:16,773 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:40:09,743 - INFO - Running strategy for MSTR at 2025-08-11 19:40:09.743452-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:40:11,110 - ERROR - Error in strategy for MSTR: cannot access local variable 'res' where it is not associated with a value
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 140, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 122, in get_historical_data
    instrument_id = res[symbol][0]
                    ^^^
UnboundLocalError: cannot access local variable 'res' where it is not associated with a value
2025-08-12 02:40:11,794 - INFO - Market closed
2025-08-12 02:40:11,794 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:42:03,447 - INFO - Running strategy for MSTR at 2025-08-11 19:42:03.447614-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:42:06,501 - ERROR - Error in strategy for MSTR: string indices must be integers, not 'str'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 141, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 109, in get_historical_data
    meta = next(d for d in datasets if d["name"] == dataset)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 109, in <genexpr>
    meta = next(d for d in datasets if d["name"] == dataset)
                                       ~^^^^^^^^
TypeError: string indices must be integers, not 'str'
2025-08-12 02:42:06,836 - INFO - Market closed
2025-08-12 02:42:06,836 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:43:08,270 - INFO - Running strategy for MSTR at 2025-08-11 19:43:08.270086-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:43:10,734 - ERROR - Error in strategy for MSTR: cannot access local variable 'res' where it is not associated with a value
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 140, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 122, in get_historical_data
    instrument_id = res[symbol][0]
                    ^^^
UnboundLocalError: cannot access local variable 'res' where it is not associated with a value
2025-08-12 02:43:11,608 - INFO - Market closed
2025-08-12 02:43:11,608 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:45:58,215 - INFO - Running strategy for MSTR at 2025-08-11 19:45:58.215245-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:46:03,271 - ERROR - Error in strategy for MSTR: cannot access local variable 'df' where it is not associated with a value
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 146, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 141, in get_historical_data
    return df
           ^^
UnboundLocalError: cannot access local variable 'df' where it is not associated with a value
2025-08-12 02:46:03,618 - INFO - Market closed
2025-08-12 02:46:03,618 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:49:35,958 - INFO - Running strategy for MSTR at 2025-08-11 19:49:35.958891-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:49:43,645 - ERROR - Error in strategy for MSTR: 422 symbology_invalid_request
None of the symbols could be resolved
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 147, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 130, in get_historical_data
    df = DATABENTO_CLIENT.timeseries.get_range(
         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset="XNAS.ITCH",
        ^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        end="2024-08-01T16:00:00"
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 422 symbology_invalid_request
None of the symbols could be resolved
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-12 02:49:43,998 - INFO - Market closed
2025-08-12 02:49:43,998 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:51:55,244 - INFO - Running strategy for MSTR at 2025-08-11 19:51:55.244796-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:52:01,631 - ERROR - Error in strategy for MSTR: 422 symbology_invalid_request
None of the symbols could be resolved
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 147, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 130, in get_historical_data
    df = DATABENTO_CLIENT.timeseries.get_range(
         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset="XNAS.ITCH",
        ^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        end="2024-08-01T16:00:00"
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 422 symbology_invalid_request
None of the symbols could be resolved
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-12 02:52:01,990 - INFO - Market closed
2025-08-12 02:52:01,990 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 02:53:36,014 - INFO - Running strategy for MSTR at 2025-08-11 19:53:36.014626-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 02:53:42,380 - ERROR - Error in strategy for MSTR: 422 symbology_invalid_request
None of the symbols could be resolved
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 148, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 131, in get_historical_data
    df = DATABENTO_CLIENT.timeseries.get_range(
         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset="XNAS.ITCH",
        ^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        end="2024-08-01T16:00:00"
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 422 symbology_invalid_request
None of the symbols could be resolved
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-12 02:53:43,178 - INFO - Market closed
2025-08-12 02:53:43,178 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 03:00:37,669 - INFO - Running strategy for MSTR at 2025-08-11 20:00:37.669717-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 03:00:46,065 - ERROR - Error in strategy for MSTR: 422 symbology_invalid_request
None of the symbols could be resolved
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 149, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 132, in get_historical_data
    df = DATABENTO_CLIENT.timeseries.get_range(
         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        dataset="XNAS.ITCH",
        ^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
        end="2024-08-01T16:00:00"
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    ).to_df()
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\historical\api\timeseries.py", line 125, in get_range
    return self._stream(
           ~~~~~~~~~~~~^
        url=self._base_url + ".get_range",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        path=path,
        ^^^^^^^^^^
    )
    ^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 134, in _stream
    check_http_error(response)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "C:\Users\Super\AppData\Local\Programs\Python\Python313\Lib\site-packages\databento\common\http.py", line 249, in check_http_error
    raise BentoClientError(
    ...<5 lines>...
    )
databento.common.error.BentoClientError: 422 symbology_invalid_request
None of the symbols could be resolved
documentation: https://databento.com/docs/api-reference-historical/basics/symbology
2025-08-12 03:00:46,409 - INFO - Market closed
2025-08-12 03:00:46,409 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 03:15:12,602 - INFO - Running strategy for MSTR at 2025-08-11 20:15:12.602628-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 03:15:20,313 - ERROR - Error in strategy for MSTR: cannot access local variable 'df' where it is not associated with a value
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 150, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 141, in get_historical_data
    print("df", df)
                ^^
UnboundLocalError: cannot access local variable 'df' where it is not associated with a value
2025-08-12 03:15:20,690 - INFO - Market closed
2025-08-12 03:15:20,690 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 03:18:56,316 - INFO - Running strategy for MSTR at 2025-08-11 20:18:56.316283-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 03:19:04,016 - INFO - Market closed
2025-08-12 03:19:04,016 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 03:19:46,619 - INFO - Running strategy for MSTR at 2025-08-11 20:19:46.619078-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 03:19:55,880 - INFO - Market closed
2025-08-12 03:19:55,880 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 03:20:28,296 - INFO - Running strategy for MSTR at 2025-08-11 20:20:28.296335-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 03:22:19,170 - INFO - Running strategy for MSTR at 2025-08-11 20:22:19.170039-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 03:22:26,401 - INFO - Market closed
2025-08-12 03:22:26,401 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 03:25:31,187 - INFO - Running strategy for MSTR at 2025-08-11 20:25:31.187522-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 03:25:37,449 - ERROR - Error in strategy for MSTR: cannot access local variable 'df' where it is not associated with a value
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\ema_strategy.py", line 50, in ema_strategy
    df = get_historical_and_live_data(
        ticker=ticker,
    ...<2 lines>...
        strategy="ema"
    )
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 148, in get_historical_and_live_data
    return get_historical_data(ticker, timeframe, logger)
  File "D:\work\work\Tim McKenna\Tim\backend\get_historical_data.py", line 143, in get_historical_data
    return df
           ^^
UnboundLocalError: cannot access local variable 'df' where it is not associated with a value
2025-08-12 03:25:38,133 - INFO - Market closed
2025-08-12 03:25:38,133 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
2025-08-12 03:26:17,521 - INFO - Running strategy for MSTR at 2025-08-11 20:26:17.521469-04:00 with params: Schwab_QTY=0, Tasty_QTY=0 TRENDS=(1, EMA), (1, EMA)
2025-08-12 03:26:31,940 - INFO - Market closed
2025-08-12 03:26:31,940 - ERROR - Error in main loop for MSTR: store_logs() missing 1 required positional argument: 'strategy'
Traceback (most recent call last):
  File "D:\work\work\Tim McKenna\Tim\backend\main_equities.py", line 67, in main_strategy_loop
    store_logs(ticker)
    ~~~~~~~~~~^^^^^^^^
TypeError: store_logs() missing 1 required positional argument: 'strategy'
